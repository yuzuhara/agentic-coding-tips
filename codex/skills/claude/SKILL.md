---
name: claude
description: |
  Claude CLI（Anthropic）を使用してコードや文言について相談・レビューを行う。
  トリガー: "claude", "claudeと相談", "claudeに聞いて", "Claudeの意見", "セカンドオピニオン", "別の意見", "別の視点"
  使用場面: (1) 文言・メッセージの検討、(2) コードレビュー、(3) 設計の相談、(4) バグ調査、(5) 解消困難な問題の調査、(6) 別のAIからのセカンドオピニオンが欲しいとき
---

# Claude CLI 呼び出しスキル

Codex作業中に、Claude CLI（Anthropic）を呼び出してセカンドオピニオンや分析を得るためのスキル。

## 実行コマンド

```
claude -p --model <model> "<request>"
```

## パラメータ

| パラメータ | 説明 |
|-----------|------|
| `-p` | 非対話モードで実行（結果を出力して終了） |
| `--model <model>` | 使用するモデル（`sonnet`, `opus`, `haiku`） |
| `"<request>"` | 依頼内容（日本語可） |

## 実行手順

1. ユーザーから依頼内容を受け取る
2. Claude CLIに渡すプロンプトを構築する
3. シェルコマンドで `claude -p` を実行する
4. Claude CLIの出力結果をユーザーに報告する

## 使用例

### コードレビュー
```bash
claude -p --model sonnet "以下のコードをレビューして、改善点を指摘してください。

$(cat src/main.rs)

確認や質問は不要です。具体的な修正案とコード例まで出力してください。"
```

### バグ調査
```bash
claude -p --model sonnet "認証処理でエラーが発生する原因を調査してください。

$(cat src/auth.rs)

確認や質問は不要です。原因の特定と具体的な修正案まで出力してください。"
```

### アーキテクチャ分析
```bash
claude -p --model opus "このプロジェクトのディレクトリ構造とアーキテクチャを分析して、改善提案をしてください。

$(find src -name '*.rs' | head -20)

確認や質問は不要です。改善提案まで出力してください。"
```

### Codex結果のクロスチェック
```bash
claude -p --model sonnet "以下のCodexによるコードレビュー結果を精査し、追加の指摘や異なる見解があれば提示してください。

--- Codexの出力 ---
<codexの出力をここに貼り付け>
---

確認や質問は不要です。具体的な追加指摘・修正案まで出力してください。"
```

## モデル選択の目安

| 用途 | 推奨モデル | 理由 |
|------|-----------|------|
| 深い分析・複雑な判断 | `opus` | 最高精度の分析 |
| 一般的なレビュー・分析 | `sonnet` | バランスが良い |
| 要約・整理・簡単な確認 | `haiku` | 高速で低コスト |

## 注意事項

- Claude CLIは非対話モード（`-p`）で実行するため、追加の質問は行わない
- 長い入力の場合はパイプで渡す: `echo "<text>" | claude -p --model sonnet`
- 両AIの出力が矛盾する場合、両方の根拠を提示してユーザーに判断を委ねる
