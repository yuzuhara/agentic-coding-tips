---
name: claude-from-codex
description: |
  Codex CLIの実行結果や分析をClaude CLI（claude -p）に渡して、追加分析・クロスチェック・統合を行う。
  「claudeに聞いて」「claudeと相談」「claude codeに渡して」「クロスチェック」「Claudeの意見」「Claudeに確認」などのフレーズが出たときに使用する。
  使用場面: (1) Codexの提案の精査・クロスチェック、(2) Codex結果の要約・整理、(3) 異なるモデルの視点での分析、(4) Codex出力をClaudeで深掘り。
  Codexの出力を別のAI（Claude）に渡して検証したい場合や、Codexの結果をClaude視点で再分析したい場合にこのスキルを使用すること。
---

# Codex → Claude CLI 呼び出しスキル

Codex CLIで得た結果や、任意のテキスト・コードをClaude CLI（`claude -p`）に渡して追加分析を得るためのスキル。

## 実行コマンド

```
claude -p --model <model> "<request>"
```

または、長いプロンプトやCodexの出力結果をパイプで渡す場合:

```
echo "<codex_output_and_request>" | claude -p --model <model>
```

## パラメータ

| パラメータ | 説明 |
|-----------|------|
| `-p` / `--print` | 非対話モードで実行（結果を出力して終了） |
| `--model <model>` | 使用するモデル（例: `sonnet`, `opus`, `haiku`） |
| `"<request>"` | 依頼内容（日本語可） |

## 実行手順

1. Codexの出力結果または分析対象のテキストを取得する
2. Claude CLIに渡すプロンプトを構築する
   - Codexの出力を含める場合はコンテキストとして渡す
   - 分析の目的・観点を明記する
3. Bashツールで `claude -p` コマンドを実行する（タイムアウト: 300000ms）
4. Claude CLIの出力結果をユーザーに報告する
5. 両方の結果を比較・統合し、ユーザーに最適な提案をまとめる

## 使用例

### Codex結果のクロスチェック
```bash
claude -p --model sonnet "以下のCodexによるコードレビュー結果を精査し、追加の指摘や異なる見解があれば提示してください。

--- Codexの出力 ---
<codexの出力をここに貼り付け>
---

確認や質問は不要です。具体的な追加指摘・修正案まで出力してください。"
```

### Codex出力の要約・整理
```bash
claude -p --model haiku "以下のCodexによる分析結果を、優先度順に整理し、簡潔なアクションリストにまとめてください。

--- Codexの出力 ---
<codexの出力をここに貼り付け>
---"
```

### 異なる視点での再分析
```bash
claude -p --model sonnet "以下のコードについて、Codexは〇〇と提案しました。別の視点から分析し、この提案の妥当性を評価してください。代替案があれば提示してください。

--- 対象コード ---
<コード>
---

--- Codexの提案 ---
<codexの提案>
---"
```

### パイプを使った長文入力
```bash
echo "以下のCodex分析結果をレビューし、見落としがないか確認してください。

$(cat /path/to/codex-output.txt)

追加の指摘や改善案があれば提示してください。" | claude -p --model sonnet
```

## モデル選択の目安

| 用途 | 推奨モデル | 理由 |
|------|-----------|------|
| 深い分析・複雑な判断 | `opus` | 最高精度の分析が必要な場合 |
| 一般的なレビュー・分析 | `sonnet` | バランスの良い分析 |
| 要約・整理・簡単な確認 | `haiku` | 高速で低コスト |

## 注意事項

- Claude CLIは非対話モード（`-p`）で実行するため、追加の質問は行わない
- Codexの出力が非常に長い場合、要約してからClaude CLIに渡すことを検討する
- 両AIの出力が矛盾する場合、両方の根拠を提示してユーザーに判断を委ねる
